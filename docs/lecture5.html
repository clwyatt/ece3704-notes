<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="C.L. Wyatt" />
  <meta name="dcterms.date" content="2025-08-07" />
  <title>Lecture 5 Sampling and Reconstruction</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../style/style.css" />
  <script
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
  type="text/javascript"></script>
</head>
<body>
<nav id="header-nav" role="navigation" title="site navigation">
<span class="nav-title">ECE 3704 Notes</span> <a href="index.html">Contents</a> | <a href="about.html">About</a> 
</nav>

<main>
<header id="title-block-header">
<h1 class="title">Lecture 5<br />
Sampling and Reconstruction</h1>
<p class="author">C.L. Wyatt</p>
<p class="date">2025-08-07</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#ideal-sampling-theory"
id="toc-ideal-sampling-theory">Ideal Sampling Theory</a></li>
<li><a href="#nyquist-criteria" id="toc-nyquist-criteria">Nyquist
Criteria</a></li>
<li><a href="#practical-sampling" id="toc-practical-sampling">Practical
Sampling</a></li>
<li><a href="#reconstruction-theory"
id="toc-reconstruction-theory">Reconstruction Theory</a></li>
<li><a href="#practical-reconstruction"
id="toc-practical-reconstruction">Practical Reconstruction</a>
<ul>
<li><a href="#zero-order-hold-using-an-r-2r-ladder"
id="toc-zero-order-hold-using-an-r-2r-ladder">Zero-order hold using an
R-2R ladder</a></li>
<li><a href="#reconstructionanti-imaging-filter"
id="toc-reconstructionanti-imaging-filter">Reconstruction(anti-imaging)
filter</a></li>
</ul></li>
<li><a href="#lab-1" id="toc-lab-1">Lab 1</a></li>
</ul>
</nav>
<p>Todayâ€™s lecture is a review of material from ECE 2714. We will review
sampling theory, the Nyquist rate, practical sampling, and
reconstruction techniques.</p>
<p>Recall that hybrid systems are ones with both CT and DT signals. Such
systems require the ability to:</p>
<ul>
<li><p>convert signals from CT to DT: sampling or analog-to-digital
conversion (ADC)</p></li>
<li><p>convert signals from DT to CT: reconstruction or
digital-to-analog conversion (DAC)</p></li>
</ul>
<h2 id="ideal-sampling-theory">Ideal Sampling Theory</h2>
<p>The impulse train</p>
<p><span class="math display">\[x_p(t) = \sum\limits_{n =
-\infty}^{\infty} \delta(t-nT)\]</span></p>
<p>is a periodic function with period <span
class="math inline">\(T\)</span>. It has a CTFS representation</p>
<p><span class="math display">\[x_p(t) = \sum\limits_{k =
-\infty}^{\infty} a_k e^{j\frac{2\pi}{T} k t}\]</span></p>
<p>where <span class="math inline">\(a_k = \frac{1}{T}\)</span> are the
coefficients.</p>
<p>Its Fourier Transform is then</p>
<p><span class="math display">\[X_p(j\omega) = \sum\limits_{k =
-\infty}^{\infty} \delta\left(\omega-\frac{2\pi}{T}
k\right)\]</span></p>
<p>Given ans arbitrary signal <span class="math inline">\(x(t)\)</span>
we can represent sampling as multiplication by the impulse train</p>
<p><span class="math display">\[x_s(t) = x(t)\cdot x_p(t)
  = \sum\limits_{n = -\infty}^{\infty} x(t)\cdot\delta(t-nT)
  = \sum\limits_{n = -\infty}^{\infty}
x(nT)\cdot\delta(t-nT)\]</span></p>
<p>where we define <span class="math inline">\(x(nT) =
x[n]\)</span>.</p>
<p>In the frequency domain, multiplication is convolution</p>
<p><span class="math display">\[X_s(j\omega) = \frac{1}{2\pi}
X_p(j\omega)*X(j\omega) = \frac{1}{T} \sum\limits_{n = -\infty}^{\infty}
X\left(j\left(\omega - \frac{2\pi}{T} n \right) \right)\]</span></p>
<p>The frequency content of the sampled signal consists of copies of the
frequency content of the original signal called <em>images</em>.</p>
<h2 id="nyquist-criteria">Nyquist Criteria</h2>
<p>To ensure there is do distortion in the signal we require the images
do not overlap, which occurs if <span class="math inline">\(T &lt;
\frac{1}{2B}\)</span>, where <span class="math inline">\(B\)</span> is
the <em>bandwidth</em> of <span class="math inline">\(x(t)\)</span>.
This is the Nyquist criteria. In terms of a frequency this sample rate
is then <span class="math inline">\(\omega_0 = \tfrac{2\pi}{T}\)</span>
radians-per-second.</p>
<p>If <span class="math inline">\(B\)</span> is finite then <span
class="math inline">\(x(t)\)</span> is and we can choose <span
class="math inline">\(T\)</span> to meet the Nyquist rate.</p>
<p>If <span class="math inline">\(x(t)\)</span> is not band-limited, or
<span class="math inline">\(T &gt; \frac{1}{2B}\)</span>, then we get
<em>aliasing</em>. To illustrate this suppose the band-limited signal
has a magnitude spectrum like the following</p>
<figure>
<p><img src="bandlimited.svg" style="width:80.0%"
alt="&quot;the magnitude spectrum of a band-limited signal&quot;" /></p>
<figcaption>Illustration of the magnitude spectrum of a band-limited
signal.</figcaption>
</figure>
<p>After sampling (<span class="math inline">\(y(t) = x_1(t)\cdot
x_2(t)\)</span>) and assuming <span class="math inline">\(\omega_0 &gt;
4\pi B\)</span> the spectrum of the sampled signal is:</p>
<figure>
<p><img src="bandlimitedsampled1.svg" style="width:80.0%"
alt="&quot;the magnitude spectrum of a band-limited signal after sampling at the Nyquist rate&quot;" /></p>
<figcaption>Illustration of the magnitude spectrum of a band-limited
signal after sampling at the Nyquist rate.</figcaption>
</figure>
<p>If instead <span class="math inline">\(\omega_0 &lt; 4\pi B\)</span>
the images overlap and we get aliasing, where high frequency content
gets added to the lower frequency content. This is shown below with the
lighter lines showing the images and the heavier line showing their
sum.</p>
<figure>
<p><img src="bandlimitedsampled2.svg" style="width:80.0%"
alt="&quot;the magnitude spectrum of a band-limited signal after sampling below the Nyquist rate&quot;" /></p>
<figcaption>Illustration of the magnitude spectrum of a band-limited
signal after sampling below the Nyquist rate.</figcaption>
</figure>
<h2 id="practical-sampling">Practical Sampling</h2>
<p>While ideal sampling thoery is mathematically simple and intuitive,
ideal sampling cannot be implemented in practice because we cannot
generate ideal impulses for the impulse train.</p>
<p>We can generate short pulses that approximate the impulse however.
This is done through a circuit called a sample and hold.</p>
<figure>
<p><img src="sample_hold.svg" style="width:80.0%"
alt="&quot;schematic of a circuit implementing a sample and hold&quot;" /></p>
</figure>
<p>where <span class="math inline">\(p(t)\)</span> is the pulse train
with pulse width <span class="math inline">\(P &lt; T\)</span> <span
class="math display">\[p(t) = \sum\limits_{n=-\infty}^{\infty} u(t-nT) -
u(t-P-nT)\]</span></p>
<p>We can model this as well since <span class="math inline">\(p(t) =
x_p(t) * \left[u(t) - u(t-p) \right]\)</span>. The sampled signal is
then</p>
<p><span class="math display">\[x_s(t) = \left\{ x_p(t) * \left[u(t) -
u(t-p) \right] \right\}\cdot x(t)\]</span> or in the frequency domain
<span class="math display">\[X_s(j\omega) = \left\{ X_p(j\omega)\cdot
\mathcal{F}\left[u(t) - u(t-p) \right] \right\}* X(j\omega)\]</span></p>
<p>To store the output of the sample and hold we need to quantize it
into <span class="math inline">\(N\)</span> bits, e.g. <span
class="math inline">\(N = 8, 12, 24\)</span> are common choices. The
mathematical model for this process is outsie the scope of 3704 (but is
covered in 4624 DSP), so we will assume <span
class="math inline">\(x(nT) \in\mathbb{R}\)</span>.</p>
<p>Is we have no control over the input <span
class="math inline">\(x(t)\)</span> and have to fix a sample time, we
need to force <span class="math inline">\(x(t)\)</span> to be
approximately band-limited usng a mow-pass filter called an
<em>anti-aliasing</em> filter, whose cut-off frequency is relative to
the sampling frequency.</p>
<h2 id="reconstruction-theory">Reconstruction Theory</h2>
<p>Given a DT signal <span class="math inline">\(x[n]\)</span> and a
sample spacing <span class="math inline">\(T\)</span>, we can define a
corresponding CT signal as <span class="math display">\[x_p(t) =
\sum\limits_{n = -\infty}^{\infty} x[n] \, \delta(t-nT)\]</span> the
impulse train with each impulse weighted by the DT signal.</p>
<p>CT signal reconstruction can be viewed from two different (but
equivalent) perspectives. In the time domain perspective, the CT signal
<span class="math inline">\(x(t)\)</span> corresponding to a DT signal
<span class="math inline">\(x[n]\)</span> can be viewed as
<em>interpolation</em>, where the values of the CT signal are equal to
the DT signal at intervals of the sample time, i.e. <span
class="math inline">\(x(nT) = x[n]\)</span>, and in between the value of
<span class="math inline">\(x(t)\)</span> is interpolated. If the
interpolation is of zero-order, the value at <span
class="math inline">\(x(nT)\)</span> is held constant until <span
class="math inline">\(x(nT+T)\)</span>. This is called a <em>zero-order
hold</em>, and can mathematically modeled as convolution of the weighted
impulse train with a pulse <span class="math inline">\(p(t) = u(t) -
u(t-T)\)</span> whose width is the sample time, called the interpolation
function. <span class="math display">\[y(t) = p(t)*x_p(t)\]</span></p>
<h2 id="practical-reconstruction">Practical Reconstruction</h2>
<p>As we have seen before we cannot physically represent the impulse
train nor the ideal low-pass filter. Thus practical reconstruction uses
an approximation of the ideal reconstruction filter by a
digital-to-analog converter (DAC), followed by a causal (and thus
physically possible) low-pass filter.</p>
<h3 id="zero-order-hold-using-an-r-2r-ladder">Zero-order hold using an
R-2R ladder</h3>
<p>A zero-order hold DAC can be implemented by a circuit called a
resistor ladder. Consider a digital output with <span
class="math inline">\(N\)</span> bits and a reference voltage <span
class="math inline">\(V_{ref}\)</span> (for example an 8-bit output port
on a micro-controller using CMOS 3.3v logic).</p>
<p>If this port is connected to a resistor network consisting of
resistor values <span class="math inline">\(R\)</span> and <span
class="math inline">\(2R\)</span> as follows</p>
<figure>
<p><img src="fig5_1.svg" style="width:80.0%"
alt="Resistor ladder circuit diagram for a sample and hold system. The circuit has a horizontal row of six 2R resistors, each connected to a digital input labeled b0 through b3, bN2, and bN1. Below each 2R resistor is a corresponding R resistor, forming vertical pairs. The right end of the ladder connects to a voltage output labeled positive V-o." /></p>
</figure>
<p>then depending on the bit pattern at the output port <span
class="math inline">\(V\)</span>, the output of the buffer op-amp will
be <span class="math display">\[V_o = V_{ref}\frac{V}{2^N}\]</span></p>
<p>If the port value is changed every sample time <span
class="math inline">\(T\)</span>, then the resister ladder and buffer
op-amp combine to implement a zero-order hold circuit.</p>
<h3 id="reconstructionanti-imaging-filter">Reconstruction(anti-imaging)
filter</h3>
<p>The zero-order hold is followed by the reconstruction (anti-imaging)
filter which low-pass filters the output and smooths-out the jumps from
value to value.</p>
<p>With or without and anti-imaging filter the signal is positive. This
can be followed by a summing amplifier to shoft the signal voltage up or
down and amplify as needed.</p>
<h2 id="lab-1">Lab 1</h2>
<p>The goal of Lab 1 is the build a sampling and reconstruction system
using a protoboard and microcontroller, an implement a DT identity
(all-pass) system.</p>
</main>

<footer>
  <hr>
Copyright 2025 by <a href="https://clwyatt.github.io">Chris Wyatt</a> and licensed <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.
</footer>
</body>
</html>
